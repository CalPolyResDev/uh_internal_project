{% extends "base.html" %}

{% block content %}
  <div id="content-2col">
    <div id="content">
      <div id="splashOuter">
        <div id="splash"></div>
      </div>
      <div id="topContent">
        <h1>Welcome to the ResNet Internal Tech Tools Site</h1>
        <h2>Network Usage</h2>
        <div id="network_usage_box" class="contentBox">
          <h3>Pretty graphs & stuff.</h3>
          <p id="network_usage_content">Coming Soon</p>
        </div>
        </div>
      <div id="columns">
        <div id="column1">
          <h2>General Site Announcements</h2>
          {% for announcement in announcements %}
          <h3>{{ announcement.title }}&nbsp;&nbsp; <font size="1" color="grey" style="white-space: nowrap;">{{ announcement.created|date }}</font></h3>
          <p>{% autoescape off %}{{ announcement.description }}{% endautoescape %}</p>
          {% endfor %}
        </div>
        <div id="column2">
          <h2>Network Status</h2>
          <p id="network_status_response">Loading...</p>
        </div>
        <div id="column3">
          <h2>Recent Tickets</h2>
          <p>Coming Soon...</p>
        </div>
        <div class="clear"></div>
      </div>
    </div>
  </div>
    {% block extra_script %}
    <script type="text/javascript">
        $(document).ready(function() {
            refresh_network_status();
        });

        function refresh_network_status() {
            ajaxGet("{% url 'core_update_network_status' %}");
        };
    </script>
    {% endblock %}
 {% endblock %}
