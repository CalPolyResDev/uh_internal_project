{% extends "base.html" %}
{% load core_user_tests %}
{% load datatables %}

{% block subtitle %} | Port Map{% endblock %}

{% block main %}
<div class="row">
    <div class="col-xs-12">
        {% if request.user|portmap_modify_access %}
            <p style="color: red;">
                {{ form.non_field_errors }}
                {% for field in form %}
                {{ field.errors }}
                {% endfor %}
            </p>
        {% endif %}
    </div>
</div>

<div class="row">
    <div class="col-xs-12">
        <table id="portmap">
        </table>
    </div>
</div>

<div class="row">
    <div class="col-xs-12">
        {% if request.user|portmap_modify_access %}
        <div>
            <form method="post" id="add_port_form">
                <fieldset>
                    <legend>
                        Add a new port
                    </legend>
                    <p>
                        {{ form.non_field_errors }}
                        {% for field in form %}
                        {{ field.errors }}
                        {% endfor %}
                    </p>
                    <div class="horizontal_fields">
                        {{ form.as_p }}
                    </div>
                </fieldset>
                    <p>
                        <input type="submit" value="Add" />
                    </p>
                {% csrf_token %}
            </form>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}

{% block extra_script %}
    {{ block.super }}
    {% datatables_script %}
{% endblock %}